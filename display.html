<!DOCTYPE html>
<head>
    <title>Affichage de données</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.js"></script>
</head>
<body>
    <canvas id="chart" width="400" height="400"></canvas>
    <script>
        var ctx = document.getElementById("chart").getContext("2d");

        var config = new Object();
        config.type = "line";
        config.options = {
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        };

        // demande données
        var url = document.location.href;
        var jsonURL = url.replace("chart", "find");
        var req = new XMLHttpRequest();
        req.open('GET', jsonURL, false);
        req.send(null);

        if (req.status === 200) dataDevice = JSON.parse(req.responseText);
        else console.log("Ça marche pas")

        // reception données
        var data = new Array();
        for (document of dataDevice) {
            data.push(document.temperature);
        }
        config.data = data;
        var chart = new Chart(ctx, config);
    </script>
</body>
</html>